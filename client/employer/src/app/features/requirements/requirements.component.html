<div class="p-6 poppins-regular">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800 poppins-semibold">
      OJT Requirements Templates
    </h1>
    <p class="text-sm text-gray-600 mt-1">
      Download and view requirement templates
    </p>
  </div>

  <!-- Filters -->
  <div class="mb-6 flex flex-wrap gap-4 items-center">
    <div class="flex-1 min-w-[250px]">
      <input
        type="text"
        [(ngModel)]="searchKeyword"
        (ngModelChange)="applyFilters()"
        placeholder="Search requirements..."
        class="w-full px-4 py-2 border border-gray-300 rounded-md"
      />
    </div>
    <select
      [(ngModel)]="filterType"
      (ngModelChange)="applyFilters()"
      class="px-4 py-2 border border-gray-300 rounded-md"
    >
      <option value="all">All Types</option>
      <option value="pre">Pre-OJT</option>
      <option value="post">Post-OJT</option>
    </select>
  </div>

  <!-- Requirements Table -->
  <div class="bg-white rounded-lg shadow overflow-hidden">
    <table class="w-full">
      <thead class="bg-gray-50 border-b">
        <tr>
          <th
            class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase"
          >
            Title
          </th>
          <th
            class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase"
          >
            Type
          </th>
          <th
            class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase"
          >
            Template
          </th>
          <th
            class="px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase"
          >
            Required
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <tr *ngFor="let req of filteredRequirements" class="hover:bg-gray-50">
          <td class="px-4 py-3">
            <div class="text-sm font-medium text-gray-900">{{ req.title }}</div>
            <div class="text-xs text-gray-500">{{ req.description }}</div>
          </td>
          <td class="px-4 py-3">
            <span
              class="px-2 py-1 text-xs rounded-full"
              [class.bg-blue-100]="req.type === 'pre'"
              [class.text-blue-800]="req.type === 'pre'"
              [class.bg-purple-100]="req.type === 'post'"
              [class.text-purple-800]="req.type === 'post'"
            >
              {{ req.type === "pre" ? "Pre-OJT" : "Post-OJT" }}
            </span>
          </td>
          <td class="px-4 py-3 text-sm">
            <a
              *ngIf="req.template_url"
              [href]="environment.apiUrl + req.template_url"
              target="_blank"
              class="text-blue-600 hover:underline flex items-center gap-1"
            >
              <i class="pi pi-download"></i>
              Download Template
            </a>
            <span *ngIf="!req.template_url" class="text-gray-400"
              >No template</span
            >
          </td>
          <td class="px-4 py-3">
            <span
              class="px-2 py-1 text-xs rounded-full"
              [class.bg-green-100]="req.is_required"
              [class.text-green-800]="req.is_required"
              [class.bg-gray-100]="!req.is_required"
              [class.text-gray-800]="!req.is_required"
            >
              {{ req.is_required ? "Required" : "Optional" }}
            </span>
          </td>
        </tr>
        <tr *ngIf="filteredRequirements.length === 0">
          <td colspan="4" class="px-4 py-8 text-center text-gray-500">
            <i class="pi pi-inbox text-4xl mb-2 block"></i>
            No requirements found
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Info Box -->
  <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
    <div class="flex items-start gap-3">
      <i class="pi pi-info-circle text-blue-600 text-xl mt-1"></i>
      <div>
        <h3 class="font-semibold text-blue-900 mb-1">Information</h3>
        <p class="text-sm text-blue-800">
          You can download requirement templates to review what your OJT
          students need to submit. For Performance Appraisal Reports, you can
          download the template, fill it out, and provide it to your students.
        </p>
      </div>
    </div>
  </div>
</div>
